<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${product.productName} + ' - AUCA E-Commerce'">Product Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --light: #f8f9fa;
            --text: #2d3748;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light);
            color: var(--text);
            line-height: 1.6;
        }

        .product-details {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .product-image {
            width: 100%;
            max-width: 400px;
            height: auto;
            border-radius: 10px;
        }

        .product-price {
            color: var(--accent);
            font-size: 1.5rem;
            font-weight: bold;
        }
    </style>
</head>
<body>

<header>
    <!-- Your header navigation here -->
    <a th:href="@{/products}">‚Üê Back to Products</a>
</header>

<div class="product-details" th:if="${product != null}">
    <img th:if="${product.imagePath != null}" th:src="${product.imagePath}"
         alt="Product Image" class="product-image" />
    <img th:unless="${product.imagePath != null}" th:src="@{/images/default.jpg}"
         alt="Default Product Image" class="product-image" />

    <h1 th:text="${product.productName}">Product Name</h1>
    <p th:text="${product.description}">Product Description</p>
    <p class="product-price" th:text="${'RWF ' + #numbers.formatDecimal(product.price, 1, 'COMMA', 2, 'POINT')}">Price</p>
    <p>Stock: <span th:text="${product.stockState}">Stock State</span></p>

    <div sec:authorize="isAnonymous()">
        <p><a th:href="@{/auth/login}">Login to purchase this product</a></p>
    </div>

    <div sec:authorize="hasAuthority('ROLE_CUSTOMER')">
        <!-- Add to cart form here -->
    </div>
</div>

</body>
</html>